<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>myMD: D:/Studium/WS17-18/PSE/Implementierung/myMD/myMD/Model/DataModel/DoctorsLetter.cs Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="../../annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="../../files.html"><span>Files</span></a></li>
    <li><a href="../../dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="../../dir_D_3A_2F.html">D:</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2F.html">Studium</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2F.html">WS17-18</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2F.html">PSE</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2FImplementierung_2F.html">Implementierung</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2FImplementierung_2FmyMD_2F.html">myMD</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2FImplementierung_2FmyMD_2FmyMD_2F.html">myMD</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2FImplementierung_2FmyMD_2FmyMD_2FModel_2F.html">Model</a>&nbsp;&raquo&nbsp;<a class="el" href="../../dir_D_3A_2FStudium_2FWS17_2D18_2FPSE_2FImplementierung_2FmyMD_2FmyMD_2FModel_2FDataModel_2F.html">DataModel</a></div>
<h1>DoctorsLetter.cs</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="keyword">using</span> myMD.ModelInterface.DataModelInterface;
<a name="l00002"></a>00002 <span class="keyword">using</span> myMD.Model.FileHelper;
<a name="l00003"></a>00003 <span class="keyword">using</span> SQLiteNetExtensions.Attributes;
<a name="l00004"></a>00004 <span class="keyword">using</span> System;
<a name="l00005"></a>00005 <span class="keyword">using</span> System.Collections.Generic;
<a name="l00006"></a>00006 <span class="keyword">using</span> System.Linq;
<a name="l00007"></a>00007 <span class="keyword">using</span> Xamarin.Forms;
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">namespace </span>myMD.Model.DataModel
<a name="l00010"></a>00010 {
<a name="l00017"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html">00017</a>     <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html">DoctorsLetter</a> : <a class="code" href="../../db/dac/classmy_m_d_1_1_model_1_1_data_model_1_1_data.html">Data</a>, <a class="code" href="../../db/d8c/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_doctors_letter.html">IDoctorsLetter</a>, IEquatable&lt;DoctorsLetter&gt;
<a name="l00018"></a>00018     {
<a name="l00022"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#6ed917ddc74b4d077c7be937e9407b18">00022</a>         <span class="keyword">public</span> <a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html">DoctorsLetter</a>()
<a name="l00023"></a>00023         {
<a name="l00024"></a>00024             DatabaseMedication = <span class="keyword">new</span> List&lt;Medication&gt;();
<a name="l00025"></a>00025             DatabaseGroups = <span class="keyword">new</span> List&lt;DoctorsLetterGroup&gt;();
<a name="l00026"></a>00026         }
<a name="l00027"></a>00027 
<a name="l00033"></a>00033         [ManyToOne(CascadeOperations = CascadeOperation.CascadeRead)]
<a name="l00034"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#69695c2f690cea99f6f3810a92e2b071">00034</a>         <span class="keyword">public</span> <a class="code" href="../../db/d24/classmy_m_d_1_1_model_1_1_data_model_1_1_doctor.html">Doctor</a> DatabaseDoctor { get; set; }
<a name="l00035"></a>00035 
<a name="l00041"></a>00041         [ManyToMany(typeof(<a class="code" href="../../d8/def/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter_group_doctors_letter.html">DoctorsLetterGroupDoctorsLetter</a>), CascadeOperations = CascadeOperation.CascadeRead)]
<a name="l00042"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#b32a1b3d31c25f3dd1108b15c169aa23">00042</a>         <span class="keyword">public</span> List&lt;DoctorsLetterGroup&gt; DatabaseGroups { get; set; }
<a name="l00043"></a>00043 
<a name="l00049"></a>00049         [OneToMany(CascadeOperations = CascadeOperation.CascadeRead)]
<a name="l00050"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#3c07a2050bc1e19f7c84ade6aba5be24">00050</a>         <span class="keyword">public</span> List&lt;Medication&gt; DatabaseMedication { get; set; }
<a name="l00051"></a>00051 
<a name="l00053"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#523223d6c6fe8798f0d70f376ffc99b8">00053</a>         <span class="keyword">public</span> string Diagnosis { get; set; }
<a name="l00054"></a>00054 
<a name="l00056"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#cbb67c65f2abd1005d46939a7b3aff5f">00056</a>         <span class="keyword">public</span> <a class="code" href="../../d0/d0d/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_doctor.html">IDoctor</a> <a class="code" href="../../db/d24/classmy_m_d_1_1_model_1_1_data_model_1_1_doctor.html">Doctor</a> =&gt; DatabaseDoctor;
<a name="l00057"></a>00057 
<a name="l00061"></a>00061         [ForeignKey(typeof(<a class="code" href="../../db/d24/classmy_m_d_1_1_model_1_1_data_model_1_1_doctor.html">Doctor</a>))]
<a name="l00062"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#3ca9ada9ca35d9d0b3491f210f340322">00062</a>         <span class="keyword">public</span> <span class="keywordtype">int</span> DoctorID { get; set; }
<a name="l00063"></a>00063 
<a name="l00068"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#6e1da65a53ccced47cbd4c1d5b48e856">00068</a>         <span class="keyword">public</span> string Filepath { get; set; }
<a name="l00069"></a>00069 
<a name="l00071"></a>00071         <span class="keyword">public</span> IList&lt;IDoctorsLetterGroup&gt; Groups
<a name="l00072"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#a37ede293936e29279ed543129451ec3">00072</a>         {
<a name="l00073"></a>00073             get
<a name="l00074"></a>00074             {
<a name="l00075"></a>00075                 List&lt;IDoctorsLetterGroup&gt; list = <span class="keyword">new</span> List&lt;IDoctorsLetterGroup&gt;();
<a name="l00076"></a>00076                 foreach (<a class="code" href="../../db/dfe/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter_group.html">DoctorsLetterGroup</a> group in DatabaseGroups)
<a name="l00077"></a>00077                 {
<a name="l00078"></a>00078                     list.Add(group);
<a name="l00079"></a>00079                 }
<a name="l00080"></a>00080                 <span class="keywordflow">return</span> list;
<a name="l00081"></a>00081             }
<a name="l00082"></a>00082         }
<a name="l00083"></a>00083 
<a name="l00085"></a>00085         <span class="keyword">public</span> IList&lt;IMedication&gt; <a class="code" href="../../d0/daf/classmy_m_d_1_1_model_1_1_data_model_1_1_medication.html">Medication</a>
<a name="l00086"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#353bd6f65060d17097c3b03141e79cce">00086</a>         {
<a name="l00087"></a>00087             get
<a name="l00088"></a>00088             {
<a name="l00089"></a>00089                 List&lt;IMedication&gt; list = <span class="keyword">new</span> List&lt;IMedication&gt;();
<a name="l00090"></a>00090                 foreach (<a class="code" href="../../d0/daf/classmy_m_d_1_1_model_1_1_data_model_1_1_medication.html">Medication</a> med in DatabaseMedication)
<a name="l00091"></a>00091                 {
<a name="l00092"></a>00092                     list.Add(med);
<a name="l00093"></a>00093                 }
<a name="l00094"></a>00094                 <span class="keywordflow">return</span> list;
<a name="l00095"></a>00095             }
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097 
<a name="l00102"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#8eb99f11555636e6e2192231b87b59f0">00102</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> AddToGroup(<a class="code" href="../../db/dfe/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter_group.html">DoctorsLetterGroup</a> group)
<a name="l00103"></a>00103         {
<a name="l00104"></a>00104             <span class="keywordflow">if</span> (!DatabaseGroups.Contains(group))
<a name="l00105"></a>00105             {
<a name="l00106"></a>00106                 DatabaseGroups.Add(group);
<a name="l00107"></a>00107                 group.Add(<span class="keyword">this</span>);
<a name="l00108"></a>00108             }
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110 
<a name="l00112"></a>00112         <span class="keyword">public</span> <span class="keywordtype">void</span> AddToGroup(<a class="code" href="../../d1/df0/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_doctors_letter_group.html">IDoctorsLetterGroup</a> group) =&gt; AddToGroup(group.ToDoctorsLetterGroup());
<a name="l00113"></a>00113 
<a name="l00118"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#c6c9d35845c1c0e4c389656215df6e2e">00118</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> AttachMedication(<a class="code" href="../../d0/daf/classmy_m_d_1_1_model_1_1_data_model_1_1_medication.html">Medication</a> med)
<a name="l00119"></a>00119         {
<a name="l00120"></a>00120             <span class="keywordflow">if</span> (!DatabaseMedication.Contains(med))
<a name="l00121"></a>00121             {
<a name="l00122"></a>00122                 DatabaseMedication.Add(med);
<a name="l00123"></a>00123                 med.AttachToLetter(<span class="keyword">this</span>);
<a name="l00124"></a>00124             }
<a name="l00125"></a>00125         }
<a name="l00126"></a>00126 
<a name="l00128"></a>00128         <span class="keyword">public</span> <span class="keywordtype">void</span> AttachMedication(<a class="code" href="../../d2/dce/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_medication.html">IMedication</a> med) =&gt; AttachMedication(med.ToMedication());
<a name="l00129"></a>00129 
<a name="l00134"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#51a833214dab53bfafb630573fc0fe77">00134</a>         <span class="keyword">public</span> override <span class="keywordtype">void</span> Delete()
<a name="l00135"></a>00135         {
<a name="l00136"></a>00136             <span class="keywordflow">while</span> (DatabaseMedication.Any())
<a name="l00137"></a>00137             {
<a name="l00138"></a>00138                 DisattachMedication(DatabaseMedication.First());
<a name="l00139"></a>00139             }
<a name="l00140"></a>00140             <span class="keywordflow">while</span> (DatabaseGroups.Any())
<a name="l00141"></a>00141             {
<a name="l00142"></a>00142                 RemoveFromGroup(DatabaseGroups.First());
<a name="l00143"></a>00143             }
<a name="l00144"></a>00144             DependencyService.Get&lt;<a class="code" href="../../df/df8/interfacemy_m_d_1_1_model_1_1_file_helper_1_1_i_file_helper.html">IFileHelper</a>&gt;().DeleteFile(Filepath);
<a name="l00145"></a>00145         }
<a name="l00146"></a>00146 
<a name="l00151"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#054bedc79ee2e214b176609861b0f663">00151</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> DisattachMedication(<a class="code" href="../../d0/daf/classmy_m_d_1_1_model_1_1_data_model_1_1_medication.html">Medication</a> med)
<a name="l00152"></a>00152         {
<a name="l00153"></a>00153             <span class="keywordflow">if</span> (DatabaseMedication.Contains(med))
<a name="l00154"></a>00154             {
<a name="l00155"></a>00155                 DatabaseMedication.Remove(med);
<a name="l00156"></a>00156                 med.DisattachFromLetter(<span class="keyword">this</span>);
<a name="l00157"></a>00157             }
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159 
<a name="l00164"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#727bb18102761937ee7d2d755bf4db6b">00164</a>         <span class="keyword">public</span> <span class="keywordtype">bool</span> Equals(<a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html">DoctorsLetter</a> other)
<a name="l00165"></a>00165         {
<a name="l00166"></a>00166             <span class="keywordflow">return</span> base.Equals(other)
<a name="l00167"></a>00167                 &amp;&amp; Filepath.Equals(other.<a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#6e1da65a53ccced47cbd4c1d5b48e856">Filepath</a>)
<a name="l00168"></a>00168                 &amp;&amp; Diagnosis.Equals(other.<a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#523223d6c6fe8798f0d70f376ffc99b8">Diagnosis</a>)
<a name="l00169"></a>00169                 &amp;&amp; DatabaseMedication.SequenceEqual(other.<a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#3c07a2050bc1e19f7c84ade6aba5be24">DatabaseMedication</a>)
<a name="l00170"></a>00170                 &amp;&amp; DatabaseDoctor.Equals(other.<a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#69695c2f690cea99f6f3810a92e2b071">DatabaseDoctor</a>);
<a name="l00171"></a>00171         }
<a name="l00172"></a>00172 
<a name="l00174"></a>00174         <span class="keyword">public</span> override <span class="keywordtype">bool</span> Equals(Object obj) =&gt; Equals(obj as <a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html">DoctorsLetter</a>);
<a name="l00175"></a>00175 
<a name="l00177"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#871aff832c00675bb79db4294f382e58">00177</a>         <span class="keyword">public</span> override <span class="keywordtype">int</span> GetHashCode()
<a name="l00178"></a>00178         {
<a name="l00179"></a>00179             var hashCode = -551889408;
<a name="l00180"></a>00180             hashCode = hashCode * -1521134295 + EqualityComparer&lt;string&gt;.Default.GetHashCode(Filepath);
<a name="l00181"></a>00181             hashCode = hashCode * -1521134295 + EqualityComparer&lt;string&gt;.Default.GetHashCode(Diagnosis);
<a name="l00182"></a>00182             hashCode = hashCode * -1521134295 + EqualityComparer&lt;List&lt;Medication&gt;&gt;.Default.GetHashCode(DatabaseMedication);
<a name="l00183"></a>00183             hashCode = hashCode * -1521134295 + EqualityComparer&lt;Doctor&gt;.Default.GetHashCode(DatabaseDoctor);
<a name="l00184"></a>00184             <span class="keywordflow">return</span> hashCode;
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186 
<a name="l00191"></a><a class="code" href="../../dc/d86/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter.html#7f55c973858b86b4f86b78d8b55ccd4e">00191</a>         <span class="keyword">public</span> <span class="keywordtype">void</span> RemoveFromGroup(<a class="code" href="../../db/dfe/classmy_m_d_1_1_model_1_1_data_model_1_1_doctors_letter_group.html">DoctorsLetterGroup</a> group)
<a name="l00192"></a>00192         {
<a name="l00193"></a>00193             <span class="keywordflow">if</span> (DatabaseGroups.Contains(group))
<a name="l00194"></a>00194             {
<a name="l00195"></a>00195                 DatabaseGroups.Remove(group);
<a name="l00196"></a>00196                 group.Remove(<span class="keyword">this</span>);
<a name="l00197"></a>00197             }
<a name="l00198"></a>00198         }
<a name="l00199"></a>00199 
<a name="l00201"></a>00201         <span class="keyword">public</span> <span class="keywordtype">void</span> RemoveFromGroup(<a class="code" href="../../d1/df0/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_doctors_letter_group.html">IDoctorsLetterGroup</a> group) =&gt; RemoveFromGroup(group.ToDoctorsLetterGroup());
<a name="l00202"></a>00202 
<a name="l00204"></a>00204         <span class="keyword">public</span> <span class="keywordtype">void</span> RemoveMedication(<a class="code" href="../../d2/dce/interfacemy_m_d_1_1_model_interface_1_1_data_model_interface_1_1_i_medication.html">IMedication</a> med) =&gt; RemoveMedication(med.ToMedication());
<a name="l00205"></a>00205         
<a name="l00210"></a>00210         <span class="keyword">public</span> DoctorsLetter ToDoctorsLetter() =&gt; <span class="keyword">this</span>;
<a name="l00211"></a>00211     }
<a name="l00212"></a>00212 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Jan 21 17:54:05 2018 for myMD by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
